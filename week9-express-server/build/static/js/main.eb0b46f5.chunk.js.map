{"version":3,"sources":["reducers.js","CreatePost.js","Post.js","pages/PostPage.js","user/Register.js","user/Login.js","user/UserBar.js","Header.js","pages/HeaderBar.js","PostList.js","pages/HomePage.js","App.js","index.js","Contexts.js"],"names":["userReducer","state","action","type","username","access_token","undefined","postsReducer","id","title","content","author","complete","completedOn","map","p","postId","filter","posts","appReducer","user","CreatePost","useState","setTitle","setContent","navigation","useNavigation","useContext","StateContext","dispatch","useResource","url","method","headers","data","post","createPost","useEffect","console","log","navigate","onSubmit","e","preventDefault","htmlFor","value","onChange","evt","target","name","Post","short","secondaryColor","ThemeContext","deletedTodo","deleteTodo","completed","Date","now","toggledTodo","toggleTodo","isLoading","processedContent","length","substring","Card","Body","Title","style","color","href","Subtitle","Text","checked","Button","variant","onClick","toLocaleDateString","React","memo","PostPage","getPost","Register","show","handleClose","password","passwordRepeat","formData","setFormData","setStatus","register","error","alert","Modal","onHide","Form","Header","closeButton","Label","Control","Footer","disabled","Login","setUsername","setPassword","loginFailed","setLoginFailed","login","UserBar","Logout","lazy","showLogin","setShowLogin","showRegister","setShowRegister","className","text","theme","Navbar","Brand","primaryColor","HeaderBar","setTheme","bg","expand","Container","Toggle","Collapse","Nav","Link","Suspense","fallback","PostList","i","key","HomePage","getPosts","App","useReducer","routes","mount","route","view","req","params","Provider","axiosInstance","axios","create","baseURL","ReactDOM","render","StrictMode","document","getElementById","createContext"],"mappings":"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","file":"static/js/main.eb0b46f5.chunk.js","sourcesContent":["function userReducer (state, action) {\r\n    switch (action.type) {\r\n        case 'LOGIN':\r\n        case 'REGISTER':\r\n            return {\r\n                'username': action.username,\r\n                'access_token': action.access_token\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                'username': undefined,\r\n                'access_token': undefined\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n  function postsReducer (state, action) {\r\n    switch (action.type) {\r\n        case 'CREATE_POST':\r\n          const newPost = { \r\n              id: action.id,\r\n              title: action.title,\r\n              content: action.content, \r\n              author: action.author,\r\n              complete: false,\r\n              completedOn: undefined\r\n            }\r\n            return [ newPost, ...state ]\r\n        case 'TOGGLE_POST':\r\n            return state.map((p) => {\r\n                if(p.id === action.postId) {\r\n                    p.complete = action.complete;\r\n                    p.completedOn = action.completedOn;\r\n                }\r\n                return p;\r\n            })\r\n        case 'DELETE_POST':\r\n            return state.filter((p) => p.id !== action.postId)\r\n        case 'FETCH_POSTS':\r\n            return action.posts\r\n        default:\r\n           return state;\r\n    }\r\n  }\r\n\r\n  export default function appReducer (state, action) {\r\n    return {\r\n        user: userReducer(state.user, action),\r\n        posts: postsReducer(state.posts, action)\r\n    }\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { StateContext } from './Contexts'\r\nimport { useResource } from 'react-request-hook'\r\n\r\nimport { useNavigation } from 'react-navi'\r\n\r\nexport default function CreatePost () {\r\n\r\n    const [ title, setTitle ] = useState('')\r\n    const [ content, setContent ] = useState('')\r\n\r\n    const navigation = useNavigation()\r\n\r\n    const {state, dispatch} = useContext(StateContext)\r\n    const {user} = state;\r\n\r\n    const [post , createPost ] = useResource(({ title, content, author }) => ({\r\n            url: '/post',\r\n            method: 'post',\r\n            headers: {\"Authorization\": `${state.user.access_token}`},\r\n            data: { title, content, author }\r\n        }))\r\n\r\n    function handleTitle (evt) { setTitle(evt.target.value) }\r\n\r\n    function handleContent (evt) { setContent(evt.target.value) }\r\n\r\n    function handleCreate () {\r\n            createPost({ title, content, author: user.username })\r\n        }\r\n        \r\n    useEffect(() => {\r\n        if (post && post.data) {\r\n            dispatch({ type: 'CREATE_POST', title: post.data.title, content: post.data.content, id: post.data.id, author: user.username })\r\n            console.log(post.data)\r\n            navigation.navigate(`/post/${post.data.id}`)\r\n        }\r\n    }, [post])\r\n        \r\n\r\n     return (\r\n          <form onSubmit={e => {e.preventDefault(); handleCreate();} }>\r\n             \r\n             <div>Author: <b>{user.username}</b></div>\r\n\r\n             <div>\r\n                 <label htmlFor=\"create-title\">Title:</label>\r\n                 <input type=\"text\" value={title} onChange={handleTitle} name=\"create-title\"  id=\"create-title\" />\r\n             </div>\r\n\r\n             <textarea value={content} onChange={handleContent} />\r\n             <input type=\"submit\" value=\"Create\" />\r\n         </form>   \r\n          )\r\n }\r\n ","import React, {useContext, useEffect} from 'react'\r\nimport { Link } from 'react-navi'\r\nimport { Card, Button } from 'react-bootstrap'\r\n\r\nimport { ThemeContext, StateContext } from './Contexts'\r\n\r\nimport { useResource } from 'react-request-hook'\r\n\r\nfunction Post ({ title, content, author, complete, completedOn, postId, short = false }) {\r\n     \r\n\r\n     const {secondaryColor} = useContext(ThemeContext)\r\n     const { dispatch } = useContext(StateContext)\r\n\r\n     const [deletedTodo, deleteTodo] = useResource((postId) => ({\r\n         url: `/posts/${postId}`,\r\n         method: \"delete\"\r\n     }));\r\n \r\n     const [toggledTodo, toggleTodo] = useResource((postId, completed) => ({\r\n         url: `/posts/${postId}`,\r\n         method: \"patch\",\r\n         data: {\r\n             complete:completed,\r\n             completedOn: Date.now()\r\n         }\r\n     }));\r\n \r\n     useEffect(() => {\r\n         if (deletedTodo && deletedTodo.data && deletedTodo.isLoading === false) {\r\n             dispatch({type: 'DELETE_POST', postId: postId})\r\n         }\r\n     }, [deletedTodo])\r\n \r\n     useEffect(() => {\r\n         if (toggledTodo && toggledTodo.data && toggledTodo.isLoading === false) {\r\n             dispatch({type: 'TOGGLE_POST', complete:toggledTodo.data.complete, completedOn:toggledTodo.data.completedOn, postId})\r\n         }\r\n     }, [toggledTodo])\r\n\r\n     let processedContent = content\r\n\r\n     if (short) {\r\n          if (content.length > 30) {\r\n               processedContent = content.substring(0, 30) + '...'\r\n          }\r\n     }\r\n\r\n     \r\n     return (\r\n          <Card>\r\n          <Card.Body>\r\n              <Card.Title><Link style={{ color: secondaryColor }} href={`/post/${postId}`}>{title}</Link>\r\n              </Card.Title>\r\n              <Card.Subtitle>\r\n              <i>Written by <b>{author}</b></i>\r\n              </Card.Subtitle>\r\n              <Card.Text>\r\n                  {processedContent}\r\n              </Card.Text>\r\n              \r\n               <input type=\"checkbox\" checked={complete} onChange={e => {toggleTodo(postId, e.target.checked)}} />\r\n               <Button variant=\"link\" onClick={(e) => {deleteTodo(postId)}}>Delete Post</Button>\r\n              {complete && <i>Completed on: {new Date(completedOn).toLocaleDateString('en-us')}</i>}\r\n              {short && <Link href={`/post/${postId}`}>View full post</Link>}\r\n            \r\n          </Card.Body>\r\n          </Card>\r\n\r\n )\r\n}\r\n\r\nexport default React.memo(Post);\r\n","import React, { useEffect, useContext } from 'react'\r\nimport { useResource } from 'react-request-hook'\r\n\r\nimport { StateContext } from '../Contexts'\r\n\r\nimport { Link } from 'react-navi'\r\n\r\nimport Post from '../Post'\r\n\r\n\r\nexport default function PostPage ({ id }) {\r\n\r\n    const {state} = useContext(StateContext);\r\n\r\n    const [ post, getPost ] = useResource(() => ({\r\n        url: `/post/${id}`,\r\n        headers: {\"Authorization\": `${state.user.access_token}`},\r\n        method: 'get'\r\n    }))\r\n\r\n    useEffect(getPost, [id])\r\n\r\n    return (\r\n        <div>\r\n            {(post && post.data)\r\n                ? <Post {...post.data} />\r\n                : 'Loading...'\r\n            }\r\n            <div><Link href=\"/\">Go back</Link></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { useResource } from 'react-request-hook';\r\nimport {Form, Modal, Button} from 'react-bootstrap'\r\n\r\nimport { StateContext } from '../Contexts';\r\n\r\nexport default function Register({show, handleClose}) {\r\n\r\n  const {dispatch} = useContext(StateContext)\r\n\r\n  const [ formData, setFormData ] = useState({\r\n    username: \"\",\r\n    password: \"\", \r\n    passwordRepeat: \"\"\r\n})\r\n\r\nconst [ status, setStatus] = useState(\"\")\r\n\r\n\u000bconst [ user, register ] = useResource((username, password) => ({\r\n  url: 'auth/register',\r\n  method: 'post',\r\n  data: { username, password, 'passwordConfirmation': password }\r\n}))\r\n\r\n\r\nuseEffect(() => {\r\n  if (user && user.data) {\r\n      dispatch({ type: 'REGISTER', username: user.data.username })\r\n  }\r\n}, [user])\r\n\r\nuseEffect(() => {\r\n    if (user && user.isLoading === false && (user.data || user.error)) {\r\n      if (user.error) {\r\n        console.log(user)\r\n        setStatus(\"Registration failed, please try again later.\")\r\n        alert(\"fail\")\r\n      } else {\r\n        console.log(user)\r\n        setStatus(\"Registration successful. You may now login.\")\r\n        alert(\"success\")\r\n      }\r\n        //dispatch({ type: 'REGISTER', username: user.data.username })\r\n    }\r\n  }, [user])\r\n  \r\n\r\n\r\n\r\n  return (\r\n\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Form onSubmit={e => { e.preventDefault(); register(formData.username, formData.password); handleClose(); }}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Register</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form.Label htmlFor=\"register-username\">Username:</Form.Label>\r\n          <Form.Control type=\"text\" value={formData.username} onChange={e => setFormData({ ...formData, username: e.target.value })} name=\"register-username\" id=\"register-username\" />\r\n          <Form.Label htmlFor=\"register-password\">Password:</Form.Label>\r\n          <Form.Control type=\"password\" name=\"register-password\" id=\"register-password\" value={formData.password} onChange={e => setFormData({ ...formData, password: e.target.value })} />\r\n          <Form.Label htmlFor=\"register-password-repeat\">Repeat password:</Form.Label>\r\n          <Form.Control type=\"password\" name=\"register-password-repeat\" id=\"register-password-repeat\" value={formData.passwordRepeat} onChange={e => setFormData({ ...formData, passwordRepeat: e.target.value })} />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\r\n          <Button variant=\"primary\" type=\"submit\" disabled={formData.username.length === 0 || formData.password.length === 0 || formData.password !== formData.passwordRepeat}>Register</Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n\r\n  )\r\n}","import React, {useState, useEffect, useContext} from 'react'\r\n\r\nimport { StateContext } from '../Contexts';\r\nimport { useResource } from 'react-request-hook';\r\n\r\nimport { Modal, Form, Button } from 'react-bootstrap';\r\n\r\nexport default function Login({show, handleClose}) {\r\n\r\n    const {dispatch} = useContext(StateContext)\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [ password, setPassword ] = useState('')\r\n    const [ loginFailed, setLoginFailed ] = useState(false)\r\n\r\n    function handleUsername (evt) { setUsername(evt.target.value) } \r\n    function handlePassword (evt) { setPassword(evt.target.value) }\r\n\r\n    const [ user, login ] = useResource((username, password) => ({\r\n        url: 'auth/login',\r\n        method: 'post',\r\n        data: {username, password}\r\n    }))\r\n        \r\n\r\n\r\n        useEffect(() => {\r\n            if (user && user.isLoading === false && (user.data || user.error)) {\r\n                if (user.error) {\r\n                    setLoginFailed(true)\r\n                    alert('failed')\r\n                } else {\r\n                    setLoginFailed(false)\r\n                    console.log(user.data)\r\n                    dispatch({ type: 'LOGIN', username, access_token: user.data.access_token })          \r\n                }\r\n            } \r\n        }, [user])\r\n        \r\n\r\n   return (\r\n        <Modal show={show} onHide={handleClose}>\r\n        <Form onSubmit={e => { e.preventDefault(); login(username, password); handleClose() }}>\r\n        <Modal.Header closeButton>\r\n            <Modal.Title>Login</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form.Label htmlFor=\"login-username\">Username:</Form.Label>\r\n          <Form.Control type=\"text\" value={username} onChange={handleUsername} name=\"login-username\" id=\"login-username\" />\r\n          <Form.Label htmlFor=\"login-password\">Password:</Form.Label>\r\n          <Form.Control type=\"password\" value={password} onChange={handlePassword} name=\"login-password\" id=\"login-password\" />\r\n          {loginFailed && <Form.Text style={{ color: 'red' }}>Invalid username or password</Form.Text>}\r\n          </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\r\n            <Button variant=\"primary\" disabled={username.length === 0} type=\"submit\">Login</Button>\r\n        </Modal.Footer>\r\n    </Form>\r\n    </Modal>\r\n\r\n    )\r\n}\r\n","import React, {useContext, useState} from 'react'\r\n\r\nimport Register from './Register'\r\nimport Login from './Login'\r\n\r\nimport { StateContext } from '../Contexts'\r\nimport {Button} from 'react-bootstrap'\r\n\r\nexport default function UserBar() {\r\n\r\n  const Logout = React.lazy(() => import('./Logout'))\r\n  const {state} = useContext(StateContext)\r\n\r\n  const [showLogin, setShowLogin] = useState(false)\r\n  const [showRegister, setShowRegister] = useState(false)\r\n\r\n  \r\n  if (state.user.username) {\r\n      return <Logout />\r\n  } else {\r\n      return (\r\n        \r\n            <div className=\"justify-content-end\">\r\n                <Button variant=\"link\" onClick={(e) => setShowLogin(true)}>\r\n                    Login\r\n                </Button>\r\n                <Login show={showLogin} handleClose={() => setShowLogin(false)} />\r\n                <Button variant=\"link\" onClick={(e) => setShowRegister(true)}>\r\n                    Register\r\n                </Button>\r\n                <Register show={showRegister} handleClose={() => setShowRegister(false)} />\r\n            </div>\r\n\r\n      \r\n      )\r\n  }\r\n}\r\n","import React, {useContext} from 'react'\r\nimport { ThemeContext } from './Contexts'\r\nimport { Navbar } from 'react-bootstrap'\r\n\r\nimport { Link } from 'react-navi'\r\n\r\nconst Header = ({text}) => {     \r\n    const theme = useContext(ThemeContext)\r\n     return <Link href=\"/\"><Navbar.Brand style={{color: theme.primaryColor}}>{text}</Navbar.Brand></Link>\r\n}\r\n\r\nexport default Header \r\n","import React, { useContext } from 'react'\r\n\r\nimport CreatePost from '../CreatePost'\r\nimport UserBar from '../user/UserBar'\r\nimport Header from '../Header'\r\nimport ChangeTheme from '../ChangeTheme'\r\n\r\nimport { Link } from 'react-navi'\r\n\r\nimport { Navbar, Nav, Container } from 'react-bootstrap'\r\n\r\nimport { ThemeContext, StateContext } from '../Contexts'\r\n\r\nexport default function HeaderBar ({setTheme }) {\r\n    const theme = useContext(ThemeContext)\r\n    const {state} = useContext(StateContext)\r\n    const {user} = state;\r\n\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"lg\">\r\n        <Container>\r\n          <Navbar.Brand href=\"/\"><Header text=\"My Blog\" /></Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"me-auto\">\r\n              {user.username && <Nav.Link><Link href=\"/post/create\">Create New Post</Link></Nav.Link>}\r\n            </Nav>\r\n            <React.Suspense fallback={\"Loading...\"}>\r\n              <UserBar />\r\n            </React.Suspense>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n        </Navbar>\r\n\r\n\r\n\r\n    )\r\n}","import React, { useContext } from 'react'\r\nimport Post from './Post'\r\n\r\nimport { StateContext } from './Contexts'\r\n\r\nexport default function PostList () {\r\n      const {state} = useContext(StateContext)\r\n      const {posts} = state;\r\n\r\n     return (\r\n      <div>\r\n       {posts.map((p, i) => <Post {...p} short={true} title={p.title} author={p.author} key={'post-' + i} postId={p.id}/>)}\r\n      </div> \r\n      )\r\n}\r\n    \r\n","import React, { useEffect, useContext } from 'react'\r\nimport { StateContext } from '../Contexts'\r\nimport { useResource } from 'react-request-hook'\r\nimport PostList from '../PostList'\r\n\r\n\r\nexport default function HomePage () {\r\n    const { state, dispatch } = useContext(StateContext)\r\n    const [ posts, getPosts ] = useResource(() => ({\r\n        url: '/post',\r\n        method: 'get',\r\n        headers: {\"Authorization\": `${state.user.access_token}`}\r\n    }))\r\n\r\n    // useEffect(() =>{\r\n    //     if(state.user.access_token) {\r\n    //         getPosts()\r\n    //     }\r\n    // }, [])\r\n\r\n    useEffect(() =>{\r\n        getPosts()\r\n    }, [state.user.access_token])\r\n\r\n    useEffect(() => {\r\n    if (posts && posts.isLoading === false && posts.data) {\r\n        console.log(posts.data)\r\n            dispatch({ type: 'FETCH_POSTS', posts: posts.data.posts })\r\n        }\r\n    }, [posts])\r\n    const { data, isLoading } = posts;\r\n    return (\r\n        <>\r\n          {isLoading && 'Posts loading...'} <PostList />\r\n        </>\r\n    )\r\n} ","import React, {useState, useReducer, useEffect} from 'react';\nimport { mount, route } from 'navi';\nimport { Router, View } from 'react-navi';\n\nimport { Container } from 'react-bootstrap';\n\nimport appReducer from './reducers';\n\n\nimport { ThemeContext, StateContext } from './Contexts';\nimport CreatePost from './CreatePost';\nimport PostPage from './pages/PostPage';\nimport HeaderBar from './pages/HeaderBar';\nimport HomePage from './pages/HomePage';\n\nfunction App() {\n\n  const [ state, dispatch ] = useReducer(appReducer, { user: {}, posts: [] })\n\n  const {user} = state;\n\n  const [ theme, setTheme ] = useState({\n    primaryColor: 'deepskyblue',\n    secondaryColor: 'coral'\n })\n\n const routes = mount({\n  '/': route({ view: <HomePage /> }),\n  '/post/create':route({ view: <CreatePost /> }),\n  '/post/:id': route(req => {\n      return { view: <PostPage id={req.params.id} /> }\n  }),\n})\n\n  // useEffect(() => {\n  //   if (user) {\n  //      document.title = `${user}’s Blog` \n  //    } else {\n  //      document.title = 'Blog'\n  //  }\n  // }, [user])\n\n  return (\n    <div>\n      <ThemeContext.Provider value={theme}>\n        <StateContext.Provider value={{state: state, dispatch: dispatch}}>\n          <Router routes={routes}>\n            <Container>\n                <HeaderBar setTheme={setTheme} />\n                <hr />\n                <View />\n            </Container>\n            </Router>\n        </StateContext.Provider>\n      </ThemeContext.Provider>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { RequestProvider } from 'react-request-hook'\nimport axios from 'axios'\n\nconst axiosInstance = axios.create({\n    baseURL: '/'\n})\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <RequestProvider value={axiosInstance}>\n     <App />\n    </RequestProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","import React from 'react'\r\n\r\nexport const ThemeContext = React.createContext({\r\n    primaryColor: 'deepskyblue',\r\n    secondaryColor: 'coral'\r\n})\r\n\r\nexport const StateContext = React.createContext({\r\n    state: {},\r\n    dispatch: () => {}\r\n })\r\n \r\n"],"sourceRoot":""}