{"version":3,"sources":["reducers.js","CreateTodo.js","Todo.js","pages/TodoPage.js","user/Register.js","user/Login.js","user/UserBar.js","Header.js","pages/HeaderBar.js","TodoList.js","pages/HomePage.js","App.js","index.js","Contexts.js"],"names":["userReducer","state","action","type","username","access_token","undefined","todosReducer","id","title","content","description","author","completed","dateCompleted","hidden","map","p","todoId","filter","console","log","todos","appReducer","user","CreateTodo","useState","setTitle","setDescription","navigation","useNavigation","useContext","StateContext","dispatch","useResource","url","method","headers","data","dateCreated","Date","now","complete","todo","createTodo","useEffect","navigate","onSubmit","e","preventDefault","htmlFor","value","onChange","evt","target","name","Todo","short","secondaryColor","ThemeContext","deletedTodo","deleteTodo","toggledTodo","toggleTodo","isLoading","processed","length","substring","Card","Body","Title","style","color","href","Subtitle","Text","checked","Button","variant","onClick","toLocaleDateString","React","memo","TodoPage","getTodo","Register","show","handleClose","password","passwordRepeat","formData","setFormData","setStatus","register","error","alert","Modal","onHide","Form","Header","closeButton","Label","Control","Footer","disabled","Login","setUsername","setPassword","loginFailed","setLoginFailed","login","UserBar","Logout","lazy","showLogin","setShowLogin","showRegister","setShowRegister","className","text","theme","Navbar","Brand","primaryColor","HeaderBar","setTheme","bg","expand","Container","Toggle","Collapse","Nav","Link","Suspense","fallback","TodoList","t","i","key","HomePage","getTodos","App","useReducer","bleh","routes","mount","route","view","req","params","Provider","axiosInstance","axios","create","baseURL","ReactDOM","render","StrictMode","document","getElementById","createContext"],"mappings":"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","file":"static/js/main.cbdfbd28.chunk.js","sourcesContent":["function userReducer (state, action) {\r\n    switch (action.type) {\r\n        case 'LOGIN':\r\n        case 'REGISTER':\r\n            return {\r\n                'username': action.username,\r\n                'access_token': action.access_token\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                'username': undefined,\r\n                'access_token': undefined\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction todosReducer (state, action) {\r\n    switch (action.type) {\r\n        case 'CREATE_TODO':\r\n          const newTodo = { \r\n              id: action.id,\r\n              title: action.title,\r\n              content: action.description, \r\n              author: action.author,\r\n              completed: false,\r\n              dateCompleted: -1,\r\n              hidden: false\r\n            }\r\n            return [ newTodo, ...state ]\r\n        case 'TOGGLE_TODO':\r\n            return state.map((p) => {\r\n                if(p.id === action.todoId) {\r\n                    p.completed = action.completed;\r\n                    p.dateCompleted = action.dateCompleted;\r\n                }\r\n                return p;\r\n            })\r\n        case 'DELETE_TODO':\r\n            return state.filter((p) => p.id !== action.todoId)\r\n        case 'FETCH_TODOS':\r\n\t\t\tconsole.log('fetch:', action);\r\n            return action.todos\r\n        default:\r\n           return state;\r\n    }\r\n  }\r\n\r\nexport default function appReducer (state, action) {\r\n\tconsole.log('---', state, action);\r\n    return {\r\n        user: userReducer(state.user, action),\r\n        todos: todosReducer(state.todos, action)\r\n    }\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { StateContext } from './Contexts'\r\nimport { useResource } from 'react-request-hook'\r\n\r\nimport { useNavigation } from 'react-navi'\r\n\r\nexport default function CreateTodo () {\r\n\r\n    const [ title, setTitle ] = useState('')\r\n    const [ description, setDescription ] = useState('')\r\n\r\n    const navigation = useNavigation()\r\n\r\n    const {state, dispatch} = useContext(StateContext)\r\n    const {user} = state;\r\n\r\n    const [todo , createTodo ] = useResource(({ title, description, author }) => ({\r\n            url: '/todo',\r\n            method: 'post',\r\n            headers: {\"Authorization\": `${state.user.access_token}`},\r\n            data: { title, description, author,\r\n\t\t\t\tdateCreated: Date.now(),\r\n\t\t\t\tcomplete: false,\r\n\t\t\t\tdateCompleted: -1,\r\n\t\t\t\thidden: false }\r\n        }))\r\n\r\n    function handleTitle (evt) { setTitle(evt.target.value) }\r\n\r\n    function handleDescription (evt) { setDescription(evt.target.value) }\r\n\r\n    function handleCreate () {\r\n        createTodo({ title, description, author: user.username })\r\n    }\r\n        \r\n    useEffect(() => {\r\n        if (todo && todo.data) {\r\n            dispatch({ type: 'CREATE_TODO', title: todo.data.title,\r\n\t\t\t\tdescription: todo.data.description, id: todo.data.id,\r\n\t\t\t\tauthor: user.username })\r\n            console.log(todo.data)\r\n            navigation.navigate(`/todo/${todo.data.id}`)\r\n        }\r\n    }, [todo])\r\n        \r\n\r\n     return (\r\n          <form onSubmit={e => {e.preventDefault(); handleCreate();} }>\r\n             \r\n             <div>Author: <b>{user.username}</b></div>\r\n\r\n             <div>\r\n                 <label htmlFor=\"create-title\">Title:</label>\r\n                 <input type=\"text\" value={title} onChange={handleTitle} name=\"create-title\"  id=\"create-title\" />\r\n             </div>\r\n\r\n             <textarea value={description} onChange={handleDescription} />\r\n             <input type=\"submit\" value=\"Create\" />\r\n         </form>   \r\n          )\r\n }\r\n \r\n","import React, {useContext, useEffect} from 'react'\r\nimport { Link } from 'react-navi'\r\nimport { Card, Button } from 'react-bootstrap'\r\n\r\nimport { ThemeContext, StateContext } from './Contexts'\r\n\r\nimport { useResource } from 'react-request-hook'\r\n\r\nfunction Todo({ title, description, author, completed, dateCompleted,\r\n\ttodoId, short = false }) {\r\n     \r\n     const {secondaryColor} = useContext(ThemeContext)\r\n     const { dispatch } = useContext(StateContext)\r\n\r\n     const [deletedTodo, deleteTodo] = useResource((todoId) => ({\r\n         url: `/todos/${todoId}`,\r\n         method: \"delete\"\r\n     }));\r\n \r\n     const [toggledTodo, toggleTodo] = useResource((todoId, completed) => ({\r\n         url: `/todos/${todoId}`,\r\n         method: \"patch\",\r\n         data: {\r\n             completed: completed,\r\n             dateCompleted: Date.now()\r\n         }\r\n     }));\r\n \r\n     useEffect(() => {\r\n         if (deletedTodo && deletedTodo.data && deletedTodo.isLoading === false) {\r\n             dispatch({type: 'DELETE_TODO', todoId: todoId})\r\n         }\r\n     }, [deletedTodo])\r\n \r\n     useEffect(() => {\r\n         if (toggledTodo && toggledTodo.data && toggledTodo.isLoading === false) {\r\n             dispatch({type: 'TOGGLE_TODO',\r\n\t\t\t\t completed: toggledTodo.data.completed,\r\n\t\t\t\t dateCompleted: toggledTodo.data.dateCompleted,\r\n\t\t\t\t todoId})\r\n         }\r\n     }, [toggledTodo])\r\n\r\n     let processed = description\r\n\r\n     if (short) {\r\n          if (description.length > 30) {\r\n               processed = description.substring(0, 30) + '...'\r\n          }\r\n     }\r\n\r\n     \r\n     return (\r\n          <Card>\r\n          <Card.Body>\r\n              <Card.Title>\r\n\t\t\t\t<Link style={{ color: secondaryColor }} href={`/todo/${todoId}`}>{title}</Link>\r\n              </Card.Title>\r\n              <Card.Subtitle>\r\n              <i>Written by <b>{author}</b></i>\r\n              </Card.Subtitle>\r\n              <Card.Text>\r\n                  {processed}\r\n              </Card.Text>\r\n              \r\n               <input type=\"checkbox\" checked={completed} onChange={e => {toggleTodo(todoId, e.target.checked)}} />\r\n               <Button variant=\"link\" onClick={(e) => {deleteTodo(todoId)}}>Delete Todo</Button>\r\n              {completed && <i>Completed on: {new Date(dateCompleted).toLocaleDateString('en-us')}</i>}\r\n              {short && <Link href={`/todo/${todoId}`}>View full todo</Link>}\r\n            \r\n          </Card.Body>\r\n          </Card>\r\n\r\n )\r\n}\r\n\r\nexport default React.memo(Todo);\r\n","import React, { useEffect, useContext } from 'react'\r\nimport { useResource } from 'react-request-hook'\r\n\r\nimport { StateContext } from '../Contexts'\r\n\r\nimport { Link } from 'react-navi'\r\n\r\nimport Todo from '../Todo'\r\n\r\n\r\nexport default function TodoPage ({ id }) {\r\n\r\n    const {state} = useContext(StateContext);\r\n\r\n    const [ todo, getTodo ] = useResource(() => ({\r\n        url: `/todo/${id}`,\r\n        headers: {\"Authorization\": `${state.user.access_token}`},\r\n        method: 'get'\r\n    }))\r\n\r\n    useEffect(getTodo, [id])\r\n\r\n    return (\r\n        <div>\r\n            {(todo && todo.data)\r\n                ? <Todo {...todo.data} />\r\n                : 'Loading...'\r\n            }\r\n            <div><Link href=\"/\">Go back</Link></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { useResource } from 'react-request-hook';\r\nimport {Form, Modal, Button} from 'react-bootstrap'\r\n\r\nimport { StateContext } from '../Contexts';\r\n\r\nexport default function Register({show, handleClose}) {\r\n\r\n  const {dispatch} = useContext(StateContext)\r\n\r\n  const [ formData, setFormData ] = useState({\r\n    username: \"\",\r\n    password: \"\", \r\n    passwordRepeat: \"\"\r\n})\r\n\r\nconst [ status, setStatus] = useState(\"\")\r\n\r\nconst [ user, register ] = useResource((username, password) => ({\r\n  url: 'auth/register',\r\n  method: 'post',\r\n  data: { username, password, 'passwordConfirmation': password }\r\n}))\r\n\r\n\r\nuseEffect(() => {\r\n  if (user && user.data) {\r\n      dispatch({ type: 'REGISTER', username: user.data.username })\r\n  }\r\n}, [user])\r\n\r\nuseEffect(() => {\r\n    if (user && user.isLoading === false && (user.data || user.error)) {\r\n      if (user.error) {\r\n        console.log(user)\r\n        setStatus(\"Registration failed, please try again later.\")\r\n        alert(\"fail\")\r\n      } else {\r\n        console.log(user)\r\n        setStatus(\"Registration successful. You may now login.\")\r\n        alert(\"success\")\r\n      }\r\n        //dispatch({ type: 'REGISTER', username: user.data.username })\r\n    }\r\n  }, [user])\r\n  \r\n\r\n\r\n\r\n  return (\r\n\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Form onSubmit={e => { e.preventDefault(); register(formData.username, formData.password); handleClose(); }}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Register</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form.Label htmlFor=\"register-username\">Username:</Form.Label>\r\n          <Form.Control type=\"text\" value={formData.username} onChange={e => setFormData({ ...formData, username: e.target.value })} name=\"register-username\" id=\"register-username\" />\r\n          <Form.Label htmlFor=\"register-password\">Password:</Form.Label>\r\n          <Form.Control type=\"password\" name=\"register-password\" id=\"register-password\" value={formData.password} onChange={e => setFormData({ ...formData, password: e.target.value })} />\r\n          <Form.Label htmlFor=\"register-password-repeat\">Repeat password:</Form.Label>\r\n          <Form.Control type=\"password\" name=\"register-password-repeat\" id=\"register-password-repeat\" value={formData.passwordRepeat} onChange={e => setFormData({ ...formData, passwordRepeat: e.target.value })} />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\r\n          <Button variant=\"primary\" type=\"submit\" disabled={formData.username.length === 0 || formData.password.length === 0 || formData.password !== formData.passwordRepeat}>Register</Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n\r\n  )\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react'\r\n\r\nimport { StateContext } from '../Contexts';\r\nimport { useResource } from 'react-request-hook';\r\n\r\nimport { Modal, Form, Button } from 'react-bootstrap';\r\n\r\nexport default function Login({show, handleClose}) {\r\n\r\n    const {dispatch} = useContext(StateContext)\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [ password, setPassword ] = useState('')\r\n    const [ loginFailed, setLoginFailed ] = useState(false)\r\n\r\n    function handleUsername (evt) { setUsername(evt.target.value) } \r\n    function handlePassword (evt) { setPassword(evt.target.value) }\r\n\r\n    const [ user, login ] = useResource((username, password) => ({\r\n        url: 'auth/login',\r\n        method: 'post',\r\n        data: {username, password}\r\n    }))\r\n        \r\n\r\n\r\n        useEffect(() => {\r\n            if (user && user.isLoading === false && (user.data || user.error)) {\r\n                if (user.error) {\r\n                    setLoginFailed(true)\r\n                    alert('failed')\r\n                } else {\r\n                    setLoginFailed(false)\r\n                    console.log(user.data)\r\n                    dispatch({ type: 'LOGIN', username, access_token: user.data.access_token })          \r\n                }\r\n            } \r\n        }, [user])\r\n        \r\n\r\n   return (\r\n        <Modal show={show} onHide={handleClose}>\r\n        <Form onSubmit={e => { e.preventDefault(); login(username, password); handleClose() }}>\r\n        <Modal.Header closeButton>\r\n            <Modal.Title>Login</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form.Label htmlFor=\"login-username\">Username:</Form.Label>\r\n          <Form.Control type=\"text\" value={username} onChange={handleUsername} name=\"login-username\" id=\"login-username\" />\r\n          <Form.Label htmlFor=\"login-password\">Password:</Form.Label>\r\n          <Form.Control type=\"password\" value={password} onChange={handlePassword} name=\"login-password\" id=\"login-password\" />\r\n          {loginFailed && <Form.Text style={{ color: 'red' }}>Invalid username or password</Form.Text>}\r\n          </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\r\n            <Button variant=\"primary\" disabled={username.length === 0} type=\"submit\">Login</Button>\r\n        </Modal.Footer>\r\n    </Form>\r\n    </Modal>\r\n\r\n    )\r\n}\r\n","import React, {useContext, useState} from 'react'\r\n\r\nimport Register from './Register'\r\nimport Login from './Login'\r\n\r\nimport { StateContext } from '../Contexts'\r\nimport {Button} from 'react-bootstrap'\r\n\r\nexport default function UserBar() {\r\n\r\n  const Logout = React.lazy(() => import('./Logout'))\r\n  const {state} = useContext(StateContext)\r\n\r\n  const [showLogin, setShowLogin] = useState(false)\r\n  const [showRegister, setShowRegister] = useState(false)\r\n\r\n  \r\n  if (state.user.username) {\r\n      return <Logout />\r\n  } else {\r\n      return (\r\n        \r\n            <div className=\"justify-content-end\">\r\n                <Button variant=\"link\" onClick={(e) => setShowLogin(true)}>\r\n                    Login\r\n                </Button>\r\n                <Login show={showLogin} handleClose={() => setShowLogin(false)} />\r\n                <Button variant=\"link\" onClick={(e) => setShowRegister(true)}>\r\n                    Register\r\n                </Button>\r\n                <Register show={showRegister} handleClose={() => setShowRegister(false)} />\r\n            </div>\r\n\r\n      \r\n      )\r\n  }\r\n}\r\n","import React, {useContext} from 'react'\r\nimport { ThemeContext } from './Contexts'\r\nimport { Navbar } from 'react-bootstrap'\r\n\r\nimport { Link } from 'react-navi'\r\n\r\nconst Header = ({text}) => {     \r\n    const theme = useContext(ThemeContext)\r\n     return <Link href=\"/\"><Navbar.Brand style={{color: theme.primaryColor}}>{text}</Navbar.Brand></Link>\r\n}\r\n\r\nexport default Header \r\n","import React, { useContext } from 'react'\r\n\r\nimport CreateTodo from '../CreateTodo'\r\nimport UserBar from '../user/UserBar'\r\nimport Header from '../Header'\r\nimport ChangeTheme from '../ChangeTheme'\r\n\r\nimport { Link } from 'react-navi'\r\n\r\nimport { Navbar, Nav, Container } from 'react-bootstrap'\r\n\r\nimport { ThemeContext, StateContext } from '../Contexts'\r\n\r\nexport default function HeaderBar ({setTheme }) {\r\n    const theme = useContext(ThemeContext)\r\n    const {state} = useContext(StateContext)\r\n    const {user} = state;\r\n\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"lg\">\r\n        <Container>\r\n          <Navbar.Brand href=\"/\"><Header text=\"My Blog\" /></Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"me-auto\">\r\n              {user.username && <Nav.Link><Link href=\"/todo/create\">Create New Todo</Link></Nav.Link>}\r\n            </Nav>\r\n            <React.Suspense fallback={\"Loading...\"}>\r\n              <UserBar />\r\n            </React.Suspense>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n        </Navbar>\r\n\r\n\r\n\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport Todo from './Todo'\r\n\r\nimport { StateContext } from './Contexts'\r\n\r\nexport default function TodoList () {\r\n      const {state} = useContext(StateContext)\r\n      const {todos} = state;\r\n\t\r\n\tconsole.log(state, todos);\r\n     return (\r\n      <div>\r\n       {todos.map((t, i) => <Todo {...t} short={true} title={t.title} author={t.author} key={'todo-' + i} todoId={t.id}/>)}\r\n      </div> \r\n      )\r\n}\r\n    \r\n","import React, { useEffect, useContext } from 'react'\r\nimport { StateContext } from '../Contexts'\r\nimport { useResource } from 'react-request-hook'\r\nimport TodoList from '../TodoList'\r\n\r\nexport default function HomePage () {\r\n    const { state, dispatch } = useContext(StateContext)\r\n    console.log('state', state);\r\n    const [ todos, getTodos ] = useResource(() => ({\r\n        url: '/todo',\r\n        method: 'get',\r\n        //headers: {\"Authorization\": `${state.user.access_token}`}\r\n    }))\r\n\r\n    useEffect(() =>{\r\n        getTodos()\r\n    }, [state.user.access_token])\r\n\r\n    useEffect(() => {\r\n\t\tif (todos && todos.isLoading === false && todos.data) {\r\n\t\t\tconsole.log(todos, todos.data)\r\n\t\t\tdispatch({ type: 'FETCH_TODOS', todos: todos.data.todos })\r\n        }\r\n    }, [todos])\r\n    const { data, isLoading } = todos;\r\n    return (\r\n        <>\r\n          {isLoading && 'Todos loading...'} <TodoList />\r\n        </>\r\n    )\r\n} \r\n","import React, {useState, useReducer, useEffect} from 'react';\nimport { mount, route } from 'navi';\nimport { Router, View } from 'react-navi';\n\nimport { Container } from 'react-bootstrap';\n\nimport appReducer from './reducers';\n\nimport { ThemeContext, StateContext } from './Contexts';\nimport CreateTodo from './CreateTodo';\nimport TodoPage from './pages/TodoPage';\nimport HeaderBar from './pages/HeaderBar';\nimport HomePage from './pages/HomePage';\n\nfunction App() {\n\n  const [ state, dispatch ] = useReducer(appReducer, { user: {}, todos: [], bleh:'' })\n\n  const {user} = state;\n  const {todos} = state;\n  const {bleh} = state;\n\tconsole.log(state,'--', todos, bleh);\n\t\n  const [ theme, setTheme ] = useState({\n    primaryColor: 'deepskyblue',\n    secondaryColor: 'coral'\n })\n\n const routes = mount({\n  '/': route({ view: <HomePage /> }),\n  '/todo/create':route({ view: <CreateTodo /> }),\n  '/todo/:id': route(req => {\n      return { view: <TodoPage id={req.params.id} /> }\n  }),\n})\n\n  // useEffect(() => {\n  //   if (user) {\n  //      document.title = `${user}’s Blog` \n  //    } else {\n  //      document.title = 'Blog'\n  //  }\n  // }, [user])\n\n  return (\n    <div>\n      <ThemeContext.Provider value={theme}>\n        <StateContext.Provider value={{state: state, dispatch: dispatch}}>\n          <Router routes={routes}>\n            <Container>\n                <HeaderBar setTheme={setTheme} />\n                <hr />\n                <View />\n            </Container>\n            </Router>\n        </StateContext.Provider>\n      </ThemeContext.Provider>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { RequestProvider } from 'react-request-hook'\nimport axios from 'axios'\n\nconst axiosInstance = axios.create({\n    baseURL: '/'\n})\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <RequestProvider value={axiosInstance}>\n     <App />\n    </RequestProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","import React from 'react'\r\n\r\nexport const ThemeContext = React.createContext({\r\n    primaryColor: 'deepskyblue',\r\n    secondaryColor: 'coral'\r\n})\r\n\r\nexport const StateContext = React.createContext({\r\n    state: {},\r\n    dispatch: () => {}\r\n })\r\n \r\n"],"sourceRoot":""}